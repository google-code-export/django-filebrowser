:tocdepth: 2

.. |grappelli| replace:: Grappelli
.. |filebrowser| replace:: FileBrowser

.. _views:

Views
=====

The |filebrowser| XXX admin-interface.

All views use the ``path_exists`` decorator in order to check if the server path actually exists. Some views (like ``Rename``) also use the ``file_exists`` decorator XXX.

Browse
------

Browse a directory on your server. Returns a :ref:`filelisting`::

    http://mysite.com/adminurl/filebrowser/browse/

URL
    ``fb_browse``

Optional query string arguments
    ``dir``, ``o``, ``ot``, ``q``, ``p``, ``filter_date``, ``filter_type``, ``type``

Create directory
----------------

Create a new folder on your server::

    http://mysite.com/adminurl/filebrowser/createdir/

**URL**
    ``fb_createdir``

**Optional query string arguments**
    ``dir``

**Signals**
    :ref:`filebrowser_pre_createdir`, :ref:`filebrowser_post_createdir`

Upload
------

Multiple upload with Uploadify::

    http://mysite.com/adminurl/filebrowser/upload/

**URL**
    ``fb_upload``

**Optional query string arguments**
    ``dir``

**Signals**
    :ref:`filebrowser_pre_upload`, :ref:`filebrowser_post_upload`

Edit
----

Edit a file or folder::

    http://mysite.com/adminurl/filebrowser/edit/?filename=testimage.jpg

**URL**
    ``fb_edit``

**Required query string arguments**
    ``filename``

**Optional query string arguments**
    ``dir``

**Signals**
    :ref:`filebrowser_pre_rename`, :ref:`filebrowser_post_rename`

.. note::
    Editing is currently limited to renaming a file/folder. This won't check if you use the file or folder anywhere with your models.

Confirm delete
--------------

Confirm the deletion of a file or folder::

    http://mysite.com/adminurl/filebrowser/confirm_delete/?filename=testimage.jpg

**URL**
    ``fb_confirm_delete``

**Required query string arguments**
    ``filename``

**Optional query string arguments**
    ``dir``

.. note::
    If you try to delete a folder, all files/folders within this folder are listed on this page.

Delete
------

Delete a file or folder::

    http://mysite.com/adminurl/filebrowser/delete/?filename=testimage.jpg

**URL**
    ``fb_delete``

**Required query string arguments**
    ``filename``

**Optional query string arguments**
    ``dir``

**Signals**
    :ref:`filebrowser_pre_delete`, :ref:`filebrowser_post_delete`

.. note::
    This won't check if you use the file or folder anywhere with your models.

Version
-------

Generate a version of an Image as defined with ``ADMIN_VERSIONS``::

    http://mysite.com/adminurl/filebrowser/version/?filename=testimage.jpg

**URL**
    ``fb_version``

**Required query string arguments**
    ``filename``

**Query string arguments**
    ``dir``

.. note::
    This is a helper used by the ``FileBrowseField`` and TinyMCE for selecting an Image-Version.


