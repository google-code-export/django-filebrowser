This page is a preliminary documentation on Version 3.0 of the !FileBrowser. 

=Basic Installation=

  # *Install the !FileBrowser*
    Install the !FileBrowser anywhere on your python-path. I´m personally using the project-directory.
{{{
svn checkout http://django-filebrowser.googlecode.com/svn/branches/filebrowser_3/filebrowser/ filebrowser
}}}
  # *Copy Media*
    Copy the folder /media to your media-directory and change URL_FILEBROWSER_MEDIA (in fb_settings.py) accordingly.
  # *Add filebrowser to your INSTALLED APPS.*
    Open your projects settings-file (settings.py) and add the filebrowser to your INSTALLED APPS. 
  # *Change fb_settings.py*
    Either change fb_settings.py or overwrite the filebrowser settings in your project settings-file (settings.py). See "Available Settings".
  # *Change your urls.py*
    Add the following line BEFORE the admin-urls:
{{{
(r'^admin/filebrowser/', include('filebrowser.urls')),
}}}
  # *Add the !FileBrowser to your Admin Indexpage*
    Edit /templates/admin/index.html. Add this code BEFORE {% for app in app_list %} ... {% endfor %}:
{{{
{% include "filebrowser/append.html" %}
}}}
  # That's it.

= Available Settings =

All Settings can be defined in your projects settings-file (settings.py) or the !FileBrowsers settings-file (fb_settings.py). When using the projects settings-file, you have to use the prefix "FILEBROWSER" for every setting (e.g. FILEBROWSER_MEDIA_URL instead of MEDIA_URL).

----
==== DEBUG ===
Set to True in order to get an additional column with the fileobjects data.
{{{
DEBUG = getattr(settings, "FILEBROWSER_DEBUG", False)
}}}
----
==== MEDIA_ROOT ====
The absolute path to the directory that holds your media-files.
{{{
MEDIA_ROOT = getattr(settings, "FILEBROWSER_MEDIA_ROOT", settings.MEDIA_ROOT)
}}}
----
==== MEDIA_URL ====
URL that handles the media served from MEDIA_ROOT.
{{{
MEDIA_URL = getattr(settings, "FILEBROWSER_MEDIA_URL", settings.MEDIA_URL)
}}}
----
==== DIRECTORY ====
Main FileBrowser Directory. This has to be a directory within MEDIA_ROOT. Leave empty in order to browse all files under MEDIA_ROOT.
{{{
DIRECTORY = getattr(settings, "FILEBROWSER_DIRECTORY", 'uploads/')
}}}
----
==== URL_ADMIN ====
The !FileBrowser Admin-URL.
{{{
URL_ADMIN = getattr(settings, "FILEBROWSER_URL_ADMIN", '/admin/filebrowser/')
}}}
Note: If you change this URL, you also have to change the file urls.py.
----
==== URL_HOME ====
The URL to your Admin Index-Site.
{{{
URL_HOME = getattr(settings, "FILEBROWSER_URL_HOME", '/admin/')
}}}
----
==== URL_FILEBROWSER_MEDIA ====
The URL to your filebrowser media-files.
{{{
URL_FILEBROWSER_MEDIA = getattr(settings, "FILEBROWSER_URL_FILEBROWSER_MEDIA", settings.ADMIN_MEDIA_PREFIX + "filebrowser/")
}}}
Note: You have to change this setting, if you install the media-files of the !FileBrowser outside your admin-media directory.
----
==== URL_TINYMCE ====
The URL to your TinyMCE Installation.
{{{
URL_TINYMCE = getattr(settings, "FILEBROWSER_URL_TINYMCE", settings.ADMIN_MEDIA_PREFIX + "tinymce/jscripts/tiny_mce/")
}}}
Note: You have to change this setting, if you install TinyMCE outside your admin-media directory.
----
==== PATH_SERVER ====
The server-path to media-files. This is the initial/root server-path for the !FileBrowser.
{{{
PATH_SERVER = getattr(settings, "FILEBROWSER_PATH_SERVER", os.path.join(settings.MEDIA_ROOT, 'uploads'))
}}}
Note: When you set URL_WWW to settings.MEDIA_ROOT you can use all your media-files with the !FileBrowser. Nevertheless, you may want to limit this to a subpath of settings.MEDIA_ROOT or a seperate media-server.

*Important: If you change this setting, you should also change URL_WWW.*
----
==== PATH_FILEBROWSER_MEDIA ====
The server-path to your filebrowser media-files.
{{{
PATH_FILEBROWSER_MEDIA = getattr(settings, "FILEBROWSER_PATH_MEDIA", settings.ADMIN_MEDIA_PREFIX + "filebrowser/")
}}}
Note: You have to change this setting, if you install the media-files of the !FileBrowser outside your admin-media directory.
----
==== PATH_TINYMCE ====
The server-path to your TinyMCE Installation.
{{{
PATH_TINYMCE = getattr(settings, "FILEBROWSER_PATH_TINYMCE", settings.ADMIN_MEDIA_PREFIX + "tinymce/jscripts/tiny_mce/")
}}}
Note: You have to change this setting, if you install TinyMCE outside your admin-media directory.
----
==== EXTENSIONS ====
Allowed Extensions for File Upload. Please be aware that there are Icons for the default extension settings. If you rename "Sound" to "Music", you also have to rename the Sound-Icon within the img-directory.
{{{
EXTENSIONS = getattr(settings, "FILEBROWSER_EXTENSIONS", {
    'Folder':[''],
    'Image':['.jpg', '.jpeg', '.gif','.png','.tif','.tiff'],
    'Video':['.mov','.wmv','.mpeg','.mpg','.avi','.rm'],
    'Document':['.pdf','.doc','.rtf','.txt','.xls','.csv'],
    'Sound':['.mp3','.mp4','.wav','.aiff','.midi'],
    'Code':['.html','.py','.js','.css']
})
}}}
Note: With using the !FileBrowse-Field, you are able to define specific "allowed extensions" for each field, see [installationfilebrowsefield Using the FileBrowse-Field].
----
==== SELECT_FORMATS ====
Set different Options for selecting elements from the !FileBrowser.
{{{
SELECT_FORMATS = getattr(settings, "FILEBROWSER_SELECT_FORMATS", {
    'File':['Folder','Document'],
    'Image':['Image'],
    'Media':['Video','Sound']
})
}}}
----
==== MAX_UPLOAD_SIZE ====
Max. Upload Size in Bytes.
{{{
MAX_UPLOAD_SIZE = getattr(settings, "FILEBROWSER_MAX_UPLOAD_SIZE", 5000000)
}}}
----
==== IMAGE_MAXBLOCK ====
see http://mail.python.org/pipermail/image-sig/1999-August/000816.html
{{{
IMAGE_MAXBLOCK = getattr(settings, 'FILEBROWSER_IMAGE_MAXBLOCK', 1024*1024)
}}}
----
==== THUMB_PREFIX ====
The prefix for your thumbnails. If you have an Image "myimage.jpg", your thumbnail will be "thumb_myimage.jpg" by default.
{{{
THUMB_PREFIX = getattr(settings, 'FILEBROWSER_THUMB_PREFIX', 'thumb_')
}}}
Note: This Thumbnail is for diplaying your Image within the Admin-Interface. Because of the low quality, it´s not intended to use this Thumbnail on your Website (use "Image Generator" instead).
----
==== THUMBNAIL_SIZE ====
The size of your thumbnails for the Admin-Interface.
{{{
THUMBNAIL_SIZE = getattr(settings, 'FILEBROWSER_THUMBNAIL_SIZE', '50x50')
}}}
Note: This Thumbnail is for diplaying your Image within the Admin-Interface. Because of the low quality, it´s not intended to use this Thumbnail on your Website (use "Image Generator" instead).

For more on this subject, see the PIL Documentation (http://www.pythonware.com/library/pil/handbook/image.htm).
----
==== USE_IMAGE_GENERATOR ====
Whether or not to use the !ImageGenerator. When this is *True*, you´ll get a checkbox called "Use Image Generator" with every Upload-Field. Moreover, every Image will have a button "Generate Images" to generate Image versions (this is useful, if Images are uploaded using FTP and not the !FileBrowser - you can upload Images using FTP and generate the Image Versions afterwards).
{{{
USE_IMAGE_GENERATOR = getattr(settings, 'FILEBROWSER_USE_IMAGE_GENERATOR', True)
}}}
----
==== IMAGE_GENERATOR_DIRECTORY ====
The postfix for your "Image Versions"-directory. If you Upload an Image called "myimage.jpg", your versions-directory will be called "myimage_jpg_versions" by default.
{{{
IMAGE_GENERATOR_DIRECTORY = getattr(settings, 'FILEBROWSER_IMAGE_GENERATOR_DIRECTORY', '_versions')
}}}
----
==== IMAGE_GENERATOR_LANDSCAPE ====
A list of Images to generate in the format _(prefix, image width)_.
{{{
IMAGE_GENERATOR_LANDSCAPE = getattr(settings, "FILEBROWSER_IMAGE_GENERATOR_LANDSCAPE", [('thumbnail_',140),('small_',300),('medium_',460),('big_',620)])
}}}
Note: Only Images which are smaller than your Original Image will be generated. Example: If you upload an Image with a width of 540px, you´ll get "thumbnail", "small" and "medium". You won´t get the "big"-version.
----
==== IMAGE_GENERATOR_PORTRAIT ====
A list of Images to generate in the format _(prefix, image height)_.
{{{
IMAGE_GENERATOR_PORTRAIT = getattr(settings, "FILEBROWSER_IMAGE_GENERATOR_PORTRAIT", [('thumbnail_',140),('small_',300),('medium_',460),('big_',620)])
}}}
Note: Only Images which are smaller than your Original Image will be generated. Example: If you upload an Image with a width of 540px, you´ll get "thumbnail", "small" and "medium". You won´t get the "big"-version.
----
==== IMAGE_CROP_GENERATOR ====
A list of Images to generate in the format _(prefix, image width, image height)_.
{{{
IMAGE_CROP_GENERATOR = getattr(settings, "FILEBROWSER_IMAGE_CROP_GENERATOR", [('cropped_',60,60),('croppedthumbnail_',140,140)])
}}}
Note: Only Images which are smaller than your Original Image will be generated. Example: If you upload an Image with a width of 100px, you´ll get "cropped". You won´t get the "croppedthumbnail"-version.
----
==== CHECK_EXISTS ====
When accessing !FilebrowserField.landscape.xxx !FilebrowserField.portrait.xxx, check if the file actually exists. Set to True to always check ...
{{{
CHECK_EXISTS = getattr(settings, 'FILEBROWSER_CHECK_EXISTS', True)
}}}
----
==== FORCE_GENERATOR ====
Force the use of the image generator each time a file is uploaded via !FileBrowser.
{{{
FORCE_GENERATOR = getattr(settings, 'FILEBROWSER_FORCE_GENERATOR', False)
}}}
----
==== FORCE_GENERATOR_RUN ====
If set True, Image Generator will copy the image if the dimensions are smaller than the specified dimensions.
{{{
FORCE_GENERATOR_RUN = getattr(settings, 'FILEBROWSER_FORCE_GENERATOR_RUN', False)
}}}
----
==== STRICT_PIL ====
If set to True, then !FileBrowser will not try to import a mis-installed PIL.
{{{
STRICT_PIL = getattr(settings, 'FILEBROWSER_STRICT_PIL', False)
}}}
----
==== DISALLOWED_FOLDER_NAMES ====
A list with names not allowed for folders (becasue these names are used within filebrowser URLs).
{{{
DISALLOWED_FOLDER_NAMES = getattr(settings, "FILEBROWSER_DISALLOWED_FOLDER_NAMES", ['mkdir', 'makethumbs', 'upload', 'rename', 'delete'])
}}}